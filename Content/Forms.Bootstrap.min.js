function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE;a=self;b=a.LoginWithWebSharperForms=a.LoginWithWebSharperForms||{};c=b.Client=b.Client||{};d=a.WebSharper=a.WebSharper||{};e=d.Operators=d.Operators||{};f=d.Forms=d.Forms||{};g=f.Pervasives=f.Pervasives||{};h=f.Form=f.Form||{};i=f.Validation=f.Validation||{};j=f.Bootstrap=f.Bootstrap||{};k=j.Controls=j.Controls||{};l=k.Simple=k.Simple||{};m=d.Obj=d.Obj||{};n=d.UI=d.UI||{};o=n.Submitter=n.Submitter||{};p=d.List=d.List||{};q=n.HtmlModule=n.HtmlModule||{};r=q.attr=q.attr||{};s=f.Fresh=f.Fresh||{};t=n.View=n.View||{};u=n.Var$1=n.Var$1||{};v=p.T=p.T||{};w=n.Doc=n.Doc||{};x=a.StartupCode$WebSharper_Forms_Bootstrap$Main=a.StartupCode$WebSharper_Forms_Bootstrap$Main||{};y=d.Arrays=d.Arrays||{};z=n.AttrProxy=n.AttrProxy||{};A=n.Var=n.Var||{};B=f.Doc=f.Doc||{};C=d.Seq=d.Seq||{};D=f.ErrorMessage=f.ErrorMessage||{};E=d.JavaScript=d.JavaScript||{};F=E.Pervasives=E.Pervasives||{};G=f.Result=f.Result||{};H=n.Snap=n.Snap||{};I=n.ConcreteVar=n.ConcreteVar||{};J=n.AttrModule=n.AttrModule||{};K=n.Attrs=n.Attrs||{};L=n.DomUtility=n.DomUtility||{};M=d.Enumerator=d.Enumerator||{};N=M.T=M.T||{};O=a.EventTarget;P=a.Node;Q=d.Unchecked=d.Unchecked||{};R=a.StartupCode$WebSharper_Forms$Forms=a.StartupCode$WebSharper_Forms$Forms||{};S=n.Abbrev=n.Abbrev||{};T=S.Fresh=S.Fresh||{};U=n.Docs=n.Docs||{};V=f.View=f.View||{};W=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};X=n.DocElemNode=n.DocElemNode||{};Y=a.CharacterData;Z=n.Elt=n.Elt||{};_0=n.Array=n.Array||{};_1=n.An=n.An||{};_2=n.Client=n.Client||{};_3=_2.Settings=_2.Settings||{};_4=S.Mailbox=S.Mailbox||{};_5=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_6=_2.Attrs=_2.Attrs||{};_7=_6.Dyn=_6.Dyn||{};_8=n.Updates=n.Updates||{};_9=a.Object;_=a.WindowOrWorkerGlobalScope;$=_2.Docs=_2.Docs||{};ba=$.RunState=$.RunState||{};bb=$.NodeSet=$.NodeSet||{};bc=n.Anims=n.Anims||{};bd=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};be=d.Queue=d.Queue||{};bf=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bg=n.DynamicAttrNode=n.DynamicAttrNode||{};bh=d.Collections=d.Collections||{};bi=bh.HashSet=bh.HashSet||{};bj=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bk=d.Concurrency=d.Concurrency||{};bl=n.AppendList=n.AppendList||{};bm=n.Easing=n.Easing||{};bn=bk.AsyncBody=bk.AsyncBody||{};bo=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bp=bk.CT=bk.CT||{};bq=S.HashSet=S.HashSet||{};br=bk.Scheduler=bk.Scheduler||{};bs=d.CancellationTokenSource=d.CancellationTokenSource||{};bt=$.DomNodes=$.DomNodes||{};bu=a.Error;bv=d.OperationCanceledException=d.OperationCanceledException||{};bw=d.Lazy=d.Lazy||{};bx=bh.HashSetUtil=bh.HashSetUtil||{};by=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bz=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};bA=bz.LazyRecord=bz.LazyRecord||{};bB=a.IntelliFactory;bC=bB&&bB.Runtime;bD=a.console;bE=a.Date;c.LoginForm=function(){function bF(bH,bI,bJ,bK){return w.Element("form",[],[l.InputWithError("Username",bH,bK.view),l.InputPasswordWithError("Password",bI,bK.view),l.Checkbox("Keep me logged in",bJ),((function(bL){return(k.Button())(bL);}("Log in"))(p.ofArray([z.Create("class","btn btn-primary")])))(function(){bK.Trigger();}),k.ShowErrors([z.Create("style","margin-top:1em;")],bK.view)]);}function bG(bH,bI,bJ){a.alert("Welcome, "+bH+"!");}w.RunById("main",h.Render(bC.Curried(bF,4),h.Run(function(bH){return bG(bH[0],bH[1],bH[2]);},h.WithSubmit(g.op_LessMultiplyGreater(g.op_LessMultiplyGreater(g.op_LessMultiplyGreater(h.Return(bC.Curried3(function(bH,bI,bJ){return[bH,bI,bJ];})),i.IsNotEmpty("Must enter a username",h.Yield(""))),i.IsNotEmpty("Must enter a password",h.Yield(""))),h.Yield(false))))));};e.FailWith=function(bF){throw new bu(bF);};g.op_LessMultiplyGreater=function(bF,bG){return h.Apply(bF,bG);};h.Return=function(bF){return h.New(s.Id(),t.Const({$:0,$0:bF}),a.id);};h.Yield=function(bF){return h.YieldVar(u.Create$1(bF));};h.WithSubmit=function(bF){var bG;bG=new o.New(bF.view,{$:1,$0:v.Empty});return h.New(s.Id(),bG.view,function(bH){return(bF.render(bH))(bG);});};h.Run=function(bF,bG){return h.Map(function(bH){bF(bH);return bH;},bG);};h.Render=function(bF,bG){var bH;bH=bG.render(bF);return w.Append(w.EmbedView(t.Map(function(){return w.get_Empty();},bG.view)),bH);};h.Apply=function(bF,bG){var bH,bI;return h.New(s.Id(),t.Map2(G.Apply,bF.view,bG.view),(bH=bF.render,(bI=bG.render,function(bJ){return bI(bH(bJ));})));};h.YieldVar=function(bF){return h.New(bF.get_Id(),t.Map(function(bG){return{$:0,$0:bG};},bF.get_View()),function(bG){return bG(bF);});};h.Map=function(bF,bG){return h.MapResult(function(bH){return G.Map(bF,bH);},bG);};h.MapResult=function(bF,bG){return h.New(bG.id,t.Map(bF,bG.view),bG.render);};i.IsNotEmpty=function(bF,bG){return i.Is(function(bH){return bH!=="";},bF,bG);};i.Is=function(bF,bG,bH){return h.MapResult(function(bI){return bI.$==1?bI:bF(bI.$0)?bI:{$:1,$0:p.ofArray([new D.New(bH.id,bG)])};},bH);};l.InputWithError=function(bF,bG,bH){var bI;return(((bI=k.InputWithError(bF),function(bJ){var bK;bK=bI(bJ);return function(bL){return bK([bL[0],bL[1],bL[2]]);};})(v.Empty))([bG,v.Empty,v.Empty]))(bH);};l.InputPasswordWithError=function(bF,bG,bH){var bI;return(((bI=k.InputPasswordWithError(bF),function(bJ){var bK;bK=bI(bJ);return function(bL){return bK([bL[0],bL[1],bL[2]]);};})(v.Empty))([bG,v.Empty,v.Empty]))(bH);};l.Checkbox=function(bF,bG){return k.Checkbox(bF,v.Empty,bG,[],[]);};m=d.Obj=bC.Class({Equals:function(bF){return this===bF;},GetHashCode:function(){return -1;}},null,m);m.New=bC.Ctor(function(){},m);o=n.Submitter=bC.Class({Trigger:function(){this["var"].Set(null);}},m,o);o.New=bC.Ctor(function(bF,bG){m.New.call(this);this.input=bF;this["var"]=u.Create();this.view=t.SnapshotOn(bG,this["var"].get_View(),this.input);},o);k.Button=function(){x.$cctor();return x.Button;};k.ShowErrors=function(bF,bG){return B.ShowErrors(bG,function(bH){return bH.$==0?w.get_Empty():w.Element("div",bF,[w.Element("div",p.ofArray([(k.cls())("alert alert-danger")]),C.map(function(bI){return w.Element("p",[],[w.TextNode(bI.message)]);},bH))]);});};k.InputWithError=bC.Curried3(function(bF,bG,bH){var bI,bJ,bK;bI=bH[0];bJ=bH[1];bK=bH[2];return function(bL){return k.__InputWithError(w.Input,bF,bG,bI,bJ,bK,bL);};});k.InputPasswordWithError=bC.Curried3(function(bF,bG,bH){var bI,bJ,bK;bI=bH[0];bJ=bH[1];bK=bH[2];return function(bL){return k.__InputWithError(w.PasswordBox,bF,bG,bI,bJ,bK,bL);};});k.Checkbox=function(bF,bG,bH,bI,bJ){return w.Element("div",new v({$:1,$0:(k.cls())("checkbox"),$1:bG}),[w.Element("label",bI,[w.CheckBox(bJ,bH),w.TextNode(bF)])]);};k.cls=function(){x.$cctor();return x.cls;};k.__InputWithError=function(bF,bG,bH,bI,bJ,bK,bL){var bM,bN,bO,bP;bM=(bN=t.Map(function(bQ){var bR;return(bQ.$==1?bQ.$0.$==0||(bR=bQ.$0,false):true)?[null,null]:[{$:1,$0:p.reduce(function(bS,bT){return bS+"; "+bT;},p.map(function(bS){return bS.message;},bR))},{$:1,$0:"has-error"}];},V.Through$1(bL,bI)),[t.Map(function(bQ){return bQ[0];},bN),t.Map(function(bQ){return bQ[1];},bN)]);bO=bM[0];bP=bM[1];return w.Element("div",p.ofSeq(C.delay(function(){return C.append([(k.cls())("form-group")],C.delay(function(){return C.append([J.DynamicClass("has-error",bP,function(bQ){return bQ!=null;})],C.delay(function(){return bH;}));}));})),p.ofSeq(C.delay(function(){return C.append([w.Element("label",bJ,[w.TextNode(bG)])],C.delay(function(){return C.append([bF(new v({$:1,$0:(k.cls())("form-control"),$1:bK}),bI)],C.delay(function(){return[w.BindView(function(bQ){return bQ!=null&&bQ.$==1?w.Element("span",[(k.cls())("help-block")],[w.TextNode(bQ.$0)]):w.get_Empty();},bO)];}));}));})));};p.ofArray=function(bF){var bG,bH,bI;bG=v.Empty;for(bH=y.length(bF)-1,bI=0;bH>=bI;bH--)bG=new v({$:1,$0:y.get(bF,bH),$1:bG});return bG;};p.map=function(bF,bG){var bH,bI,bJ,bK,bL;if(bG.$==0)return bG;else{bK=new v({$:1});bH=bK;bI=bG;bJ=true;while(bJ){bH.$0=bF(bI.$0);bI=bI.$1;bI.$==0?bJ=false:bH=(bL=new v({$:1}),bH.$1=bL,bL);}bH.$1=v.Empty;return bK;}};p.reduce=function(bF,bG){var bH,bI;p.nonEmpty(bG);bH=bG.$0;bI=bG.$1;while(bI.$==1){bH=bF(bH,bI.$0);bI=bI.$1;}return bH;};p.append=function(bF,bG){var bH,bI,bJ,bK,bL;if(bF.$==0)return bG;else if(bG.$==0)return bF;else{bK=new v({$:1});bH=bK;bI=bF;bJ=true;while(bJ){bH.$0=bI.$0;bI=bI.$1;bI.$==0?bJ=false:bH=(bL=new v({$:1}),bH.$1=bL,bL);}bH.$1=bG;return bK;}};p.nonEmpty=function(bF){if(bF.$==0)p.listEmpty();};p.ofSeq=function(bF){var bG,bH,bI,bJ,bK,bL;if(bF instanceof v)return bF;else if(bF instanceof a.Array)return p.ofArray(bF);else{bG=M.Get(bF);try{bI=bG.MoveNext();if(!bI)bH=v.Empty;else{bK=new v({$:1});bJ=bK;while(bI){bJ.$0=bG.Current();bG.MoveNext()?bJ=(bL=new v({$:1}),bJ.$1=bL,bL):bI=false;}bJ.$1=v.Empty;bH=bK;}return bH;}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}}};p.filter=function(bF,bG){return p.ofSeq(C.filter(bF,bG));};p.listEmpty=function(){return e.FailWith("The input list was empty.");};p.head=function(bF){return bF.$==1?bF.$0:p.listEmpty();};p.tail=function(bF){return bF.$==1?bF.$1:p.listEmpty();};r=q.attr=bC.Class({},m,r);h.New=function(bF,bG,bH){return{id:bF,view:bG,render:bH};};s.Id=function(){(s.lastId())[0]++;return"Form"+a.String((s.lastId())[0]);};s.lastId=function(){R.$cctor();return R.lastId;};t.Const=function(bF){var bG;bG=H.New({$:0,$0:bF});return function(){return bG;};};t.Map=function(bF,bG){return t.CreateLazy(function(){return H.Map(bF,bG());});};t.Map2=function(bF,bG,bH){return t.CreateLazy(function(){return H.Map2(bF,bG(),bH());});};t.Map2Unit=function(bF,bG){return t.CreateLazy(function(){return H.Map2Unit(bF(),bG());});};t.CreateLazy=function(bF){var bG;bG={c:null,o:bF};return function(){var bH,bI;bH=bG.c;return bH===null?(bH=bG.o(),bG.c=bH,(bI=bH.s,bI!=null&&bI.$==0)?bG.o=null:H.WhenObsoleteRun(bH,function(){bG.c=null;}),bH):bH;};};t.SnapshotOn=function(bF,bG,bH){var bI;bI=H.New({$:2,$0:bF,$1:[]});return t.CreateLazy(function(){return bI.s==null?H.SnapshotOn(bG(),bH()):(H.WhenObsolete(bG(),bI),bI);});};t.Bind=function(bF,bG){return t.Join(t.Map(bF,bG));};t.Join=function(bF){return t.CreateLazy(function(){return H.Join(bF());});};t.Sink=function(bF,bG){function bH(){H.WhenRun(bG(),bF,function(){bk.scheduler().Fork(bH);});}bk.scheduler().Fork(bH);};u=n.Var$1=bC.Class({},m,u);u.Create$1=function(bF){return new I.New(false,H.New({$:2,$0:bF,$1:[]}),bF);};u.Create=function(){return new I.New(false,H.New({$:2,$0:null,$1:[]}),null);};v=p.T=bC.Class({GetEnumerator:function(){return new N.New(this,null,function(bF){var bG;bG=bF.s;return bG.$==0?false:(bF.c=bG.$0,bF.s=bG.$1,true);},void 0);}},null,v);v.Empty=new v({$:0});w=n.Doc=bC.Class({},m,w);w.Append=function(bF,bG){return w.Mk({$:0,$0:bF.docNode,$1:bG.docNode},t.Map2Unit(bF.updates,bG.updates));};w.get_Empty=function(){return w.Mk(null,t.Const());};w.RunById=function(bF,bG){var bH;bH=L.Doc().getElementById(bF);Q.Equals(bH,null)?e.FailWith("invalid id: "+bF):w.Run(bH,bG);};w.Mk=function(bF,bG){return new w.New(bF,bG);};w.EmbedView=function(bF){var bG;bG=U.CreateEmbedNode();return w.Mk({$:2,$0:bG},t.Map(a.ignore,t.Bind(function(bH){U.UpdateEmbedNode(bG,bH.docNode);return bH.updates;},bF)));};w.Element=function(bF,bG,bH){var bI,bJ;bI=z.Concat(bG);bJ=w.Concat(bH);return Z.New(L.CreateElement(bF),bI,bJ);};w.TextNode=function(bF){return w.Mk({$:5,$0:L.CreateText(bF)},t.Const());};w.Run=function(bF,bG){U.LinkElement(bF,bG.docNode);w.RunInPlace(false,bF,bG);};w.Concat=function(bF){var bG;bG=_0.ofSeqNonCopying(bF);return _0.TreeReduce(w.get_Empty(),w.Append,bG);};w.Input=function(bF,bG){return w.InputInternal("input",function(){return C.append(bF,[J.Value(bG)]);});};w.PasswordBox=function(bF,bG){return w.InputInternal("input",function(){return C.append(bF,[J.Value(bG),z.Create("type","password")]);});};w.CheckBox=function(bF,bG){return w.InputInternal("input",function(){return C.append(bF,[z.Create("type","checkbox"),J.Checked(bG)]);});};w.Button=function(bF,bG,bH){var bI;bI=z.Concat(bG);return Z.New(w.Clickable("button",bH),bI,w.TextNode(bF));};w.RunInPlace=function(bF,bG,bH){var bI;bI=U.CreateRunState(bG,bH.docNode);t.Sink(_1.get_UseAnimations()||_3.BatchUpdatesEnabled()?_4.StartProcessor(U.PerformAnimatedUpdate(bF,bI,bH.docNode)):function(){U.PerformSyncUpdate(bF,bI,bH.docNode);},bH.updates);};w.InputInternal=function(bF,bG){var bH;bH=L.CreateElement(bF);return Z.New(bH,z.Concat(bG(bH)),w.get_Empty());};w.Clickable=function(bF,bG){var bH;bH=L.CreateElement(bF);bH.addEventListener("click",function(bI){bI.preventDefault();return bG();},false);return bH;};w.BindView=function(bF,bG){return w.EmbedView(t.Map(bF,bG));};w.New=bC.Ctor(function(bF,bG){m.New.call(this);this.docNode=bF;this.updates=bG;},w);x.$cctor=function(){x.$cctor=a.ignore;x.cls=J.Class;x.Class=J.Class;x.Button=bC.Curried3(w.Button);};y.get=function(bF,bG){y.checkBounds(bF,bG);return bF[bG];};y.length=function(bF){return bF.dims===2?bF.length*bF.length:bF.length;};y.checkBounds=function(bF,bG){if(bG<0||bG>=bF.length)e.FailWith("Index was outside the bounds of the array.");};y.set=function(bF,bG,bH){y.checkBounds(bF,bG);bF[bG]=bH;};z=n.AttrProxy=bC.Class({},null,z);z.Create=function(bF,bG){return K.Static(function(bH){L.SetAttr(bH,bF,bG);});};z.Concat=function(bF){var bG;bG=_0.ofSeqNonCopying(bF);return _0.TreeReduce(K.EmptyAttr(),z.Append,bG);};z.Append=function(bF,bG){return K.AppendTree(bF,bG);};A=n.Var=bC.Class({},m,A);A.New=bC.Ctor(function(){m.New.call(this);},A);B.ShowErrors=function(bF,bG){return w.BindView(function(bH){return bH.$==1?bG(bH.$0):w.get_Empty();},bF);};C.map=function(bF,bG){return{GetEnumerator:function(){var bH;bH=M.Get(bG);return new N.New(null,null,function(bI){return bH.MoveNext()&&(bI.c=bF(bH.Current()),true);},function(){bH.Dispose();});}};};C.delay=function(bF){return{GetEnumerator:function(){return M.Get(bF());}};};C.append=function(bF,bG){return{GetEnumerator:function(){var bH,bI;bH=M.Get(bF);bI=[true];return new N.New(bH,null,function(bJ){var bK;return bJ.s.MoveNext()?(bJ.c=bJ.s.Current(),true):(bK=bJ.s,!Q.Equals(bK,null)?bK.Dispose():void 0,bJ.s=null,bI[0]&&(bI[0]=false,bJ.s=M.Get(bG),bJ.s.MoveNext()?(bJ.c=bJ.s.Current(),true):(bJ.s.Dispose(),bJ.s=null,false)));},function(bJ){var bK;bK=bJ.s;!Q.Equals(bK,null)?bK.Dispose():void 0;});}};};C.filter=function(bF,bG){return{GetEnumerator:function(){var bH;bH=M.Get(bG);return new N.New(null,null,function(bI){var bJ,bK,bL;bJ=bH.MoveNext();bK=bH.Current();bL=false;while(bJ)if(bF(bK)){bI.c=bK;bL=true;bJ=false;}else if(bH.MoveNext())bK=bH.Current();else bJ=false;return bL;},function(){bH.Dispose();});}};};C.iter=function(bF,bG){var bH;bH=M.Get(bG);try{while(bH.MoveNext())bF(bH.Current());}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}};C.max=function(bF){var bG,bH,bI;bG=M.Get(bF);try{if(!bG.MoveNext())C.seqEmpty();bH=bG.Current();while(bG.MoveNext()){bI=bG.Current();Q.Compare(bI,bH)===1?bH=bI:void 0;}return bH;}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}};C.seqEmpty=function(){return e.FailWith("The input sequence was empty.");};D=f.ErrorMessage=bC.Class({},m,D);D.New=bC.Ctor(function(bF,bG){m.New.call(this);this.id=bF;this.message=bG;},D);F.NewFromSeq=function(bF){var bG,bH,bI;bG={};bH=M.Get(bF);try{while(bH.MoveNext()){bI=bH.Current();bG[bI[0]]=bI[1];}}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}return bG;};G.Apply=function(bF,bG){return bF.$==0?bG.$==0?{$:0,$0:bF.$0(bG.$0)}:{$:1,$0:bG.$0}:bG.$==0?{$:1,$0:bF.$0}:{$:1,$0:p.append(bF.$0,bG.$0)};};G.Map=function(bF,bG){return bG.$==1?{$:1,$0:bG.$0}:{$:0,$0:bF(bG.$0)};};H.Map=function(bF,bG){var bH,bI;bH=bG.s;return bH!=null&&bH.$==0?H.New({$:0,$0:bF(bH.$0)}):(bI=H.New({$:3,$0:[],$1:[]}),(H.When(bG,function(bJ){H.MarkDone(bI,bG,bF(bJ));},bI),bI));};H.Map2=function(bF,bG,bH){var bI,bJ,bK;function bL(bM){var bN,bO,bP;if(!(bN=bK.s,bN!=null&&bN.$==0||bN!=null&&bN.$==2)){bO=H.ValueAndForever(bG);bP=H.ValueAndForever(bH);bO!=null&&bO.$==1?bP!=null&&bP.$==1?bO.$0[1]&&bP.$0[1]?H.MarkForever(bK,bF(bO.$0[0],bP.$0[0])):H.MarkReady(bK,bF(bO.$0[0],bP.$0[0])):void 0:void 0;}}bI=bG.s;bJ=bH.s;return bI!=null&&bI.$==0?bJ!=null&&bJ.$==0?H.New({$:0,$0:bF(bI.$0,bJ.$0)}):H.Map2Opt1(bF,bI.$0,bH):bJ!=null&&bJ.$==0?H.Map2Opt2(bF,bJ.$0,bG):(bK=H.New({$:3,$0:[],$1:[]}),(H.When(bG,bL,bK),H.When(bH,bL,bK),bK));};H.Map2Unit=function(bF,bG){var bH,bI,bJ;function bK(){var bL,bM,bN;if(!(bL=bJ.s,bL!=null&&bL.$==0||bL!=null&&bL.$==2)){bM=H.ValueAndForever(bF);bN=H.ValueAndForever(bG);bM!=null&&bM.$==1?bN!=null&&bN.$==1?bM.$0[1]&&bN.$0[1]?H.MarkForever(bJ,null):H.MarkReady(bJ,null):void 0:void 0;}}bH=bF.s;bI=bG.s;return bH!=null&&bH.$==0?bI!=null&&bI.$==0?H.New({$:0,$0:null}):bG:bI!=null&&bI.$==0?bF:(bJ=H.New({$:3,$0:[],$1:[]}),(H.When(bF,bK,bJ),H.When(bG,bK,bJ),bJ));};H.WhenObsoleteRun=function(bF,bG){var bH;bH=bF.s;bH==null?bG():bH!=null&&bH.$==2?bH.$1.push(bG):bH!=null&&bH.$==3?bH.$1.push(bG):void 0;};H.When=function(bF,bG,bH){var bI;bI=bF.s;bI==null?H.Obsolete(bH):bI!=null&&bI.$==2?(H.EnqueueSafe(bI.$1,bH),bG(bI.$0)):bI!=null&&bI.$==3?(bI.$0.push(bG),H.EnqueueSafe(bI.$1,bH)):bG(bI.$0);};H.MarkDone=function(bF,bG,bH){var bI;if(bI=bG.s,bI!=null&&bI.$==0)H.MarkForever(bF,bH);else H.MarkReady(bF,bH);};H.Map2Opt1=function(bF,bG,bH){return H.Map(function(bI){return bF(bG,bI);},bH);};H.Map2Opt2=function(bF,bG,bH){return H.Map(function(bI){return bF(bI,bG);},bH);};H.ValueAndForever=function(bF){var bG;bG=bF.s;return bG!=null&&bG.$==0?{$:1,$0:[bG.$0,true]}:bG!=null&&bG.$==2?{$:1,$0:[bG.$0,false]}:null;};H.MarkForever=function(bF,bG){var bH,bI,bJ,bK;bH=bF.s;if(bH!=null&&bH.$==3){bF.s={$:0,$0:bG};bI=bH.$0;for(bJ=0,bK=y.length(bI)-1;bJ<=bK;bJ++)(y.get(bI,bJ))(bG);}else void 0;};H.MarkReady=function(bF,bG){var bH,bI,bJ,bK;bH=bF.s;if(bH!=null&&bH.$==3){bF.s={$:2,$0:bG,$1:bH.$1};bI=bH.$0;for(bJ=0,bK=y.length(bI)-1;bJ<=bK;bJ++)(y.get(bI,bJ))(bG);}else void 0;};H.SnapshotOn=function(bF,bG){var bH;function bI(bJ){var bK,bL,bM;if(!(bK=bH.s,bK!=null&&bK.$==0||bK!=null&&bK.$==2)){bL=H.ValueAndForever(bF);bM=H.ValueAndForever(bG);bL!=null&&bL.$==1?bM!=null&&bM.$==1?bL.$0[1]||bM.$0[1]?H.MarkForever(bH,bM.$0[0]):H.MarkReady(bH,bM.$0[0]):void 0:void 0;}}bH=H.New({$:3,$0:[],$1:[]});H.When(bF,bI,bH);H.WhenReady(bG,bI);return bH;};H.WhenObsolete=function(bF,bG){var bH;bH=bF.s;bH==null?H.Obsolete(bG):bH!=null&&bH.$==2?H.EnqueueSafe(bH.$1,bG):bH!=null&&bH.$==3?H.EnqueueSafe(bH.$1,bG):void 0;};H.EnqueueSafe=function(bF,bG){var bH,bI,bJ,bK;bF.push(bG);if(bF.length%20===0){bH=bF.slice(0);be.Clear(bF);for(bI=0,bJ=y.length(bH)-1;bI<=bJ;bI++){bK=y.get(bH,bI);typeof bK=="object"?function(bL){if(bL.s)bF.push(bL);}(bK):function(bL){bF.push(bL);}(bK);}}else void 0;};H.WhenReady=function(bF,bG){var bH,bI;bI=bF.s;switch(bI!=null&&bI.$==2?(bH=bI.$0,0):bI==null?1:bI!=null&&bI.$==3?2:(bH=bI.$0,0)){case 0:bG(bH);break;case 1:null;break;case 2:bI.$0.push(bG);break;}};H.Join=function(bF){var bG;bG=H.New({$:3,$0:[],$1:[]});H.When(bF,function(bH){var bI;bI=bH();H.When(bI,function(bJ){var bK,bL;if((bK=bI.s,bK!=null&&bK.$==0)&&(bL=bF.s,bL!=null&&bL.$==0))H.MarkForever(bG,bJ);else H.MarkReady(bG,bJ);},bG);},bG);return bG;};H.WhenRun=function(bF,bG,bH){var bI;bI=bF.s;bI==null?bH():bI!=null&&bI.$==2?(bI.$1.push(bH),bG(bI.$0)):bI!=null&&bI.$==3?(bI.$0.push(bG),bI.$1.push(bH)):bG(bI.$0);};H.Copy=function(bF){var bG,bH,bI;bG=bF.s;return bG==null?bF:bG!=null&&bG.$==2?(bH=H.New({$:2,$0:bG.$0,$1:[]}),(H.WhenObsolete(bF,bH),bH)):bG!=null&&bG.$==3?(bI=H.New({$:3,$0:[],$1:[]}),(H.When(bF,function(bJ){H.MarkDone(bI,bF,bJ);},bI),bI)):bF;};I=n.ConcreteVar=bC.Class({get_Id:function(){return"uinref"+a.String(this.id);},get_View:function(){return this.view;},Set:function(bF){if(this.isConst)(function(bG){return bG("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bG){bD.log(bG);}));else{H.Obsolete(this.snap);this.current=bF;this.snap=H.New({$:2,$0:bF,$1:[]});}},Get:function(){return this.current;},UpdateMaybe:function(bF){var bG;bG=bF(this.Get());bG!=null&&bG.$==1?this.Set(bG.$0):void 0;}},A,I);I.New=bC.Ctor(function(bF,bG,bH){var bI;bI=this;A.New.call(this);this.isConst=bF;this.current=bH;this.snap=bG;this.view=function(){return bI.snap;};this.id=T.Int();},I);t=n.View=bC.Class({},null,t);J.Class=function(bF){return J.ClassPred(bF,true);};J.DynamicClass=function(bF,bG,bH){return J.DynamicClassPred(bF,t.Map(bH,bG));};J.ClassPred=function(bF,bG){return K.Static(function(bH){if(bG)L.AddClass(bH,bF);else L.RemoveClass(bH,bF);});};J.DynamicClassPred=function(bF,bG){return K.Dynamic(bG,function(bH){return function(bI){return bI?L.AddClass(bH,bF):L.RemoveClass(bH,bF);};});};J.Value=function(bF){function bG(bH){return{$:1,$0:bH};}return J.CustomValue(bF,a.id,function(bH){return bG(a.id(bH));});};J.Checked=function(bF){function bG(bH,bI){return!Q.Equals(bF.Get(),bH.checked)?bF.Set(bH.checked):null;}return z.Concat([J.DynamicProp("checked",bF.get_View()),J.Handler("change",function(bH){return function(bI){return bG(bH,bI);};})]);};J.CustomValue=function(bF,bG,bH){return J.CustomVar(bF,function(bI,bJ){bI.value=bG(bJ);},function(bI){return bH(bI.value);});};J.DynamicProp=function(bF,bG){return K.Dynamic(bG,function(bH){return function(bI){bH[bF]=bI;};});};J.Handler=function(bF,bG){return K.Static(function(bH){bH.addEventListener(bF,function(bI){return(bG(bH))(bI);},false);});};J.CustomVar=function(bF,bG,bH){function bI(bK,bL){return bF.UpdateMaybe(function(bM){var bN,bO;bN=bH(bK);return bN!=null&&bN.$==1&&(!Q.Equals(bN.$0,bM)&&(bO=[bN,bN.$0],true))?bO[0]:null;});}function bJ(bK,bL){var bM,bN;bM=bH(bK);return bM!=null&&bM.$==1&&(Q.Equals(bM.$0,bL)&&(bN=bM.$0,true))?null:bG(bK,bL);}return z.Concat([J.Handler("change",function(bK){return function(bL){return bI(bK,bL);};}),J.Handler("input",function(bK){return function(bL){return bI(bK,bL);};}),J.Handler("keypress",function(bK){return function(bL){return bI(bK,bL);};}),J.DynamicCustom(function(bK){return function(bL){return bJ(bK,bL);};},bF.get_View())]);};J.DynamicCustom=function(bF,bG){return K.Dynamic(bG,bF);};K.Static=function(bF){return new z({$:3,$0:bF});};K.Updates=function(bF){return _0.MapTreeReduce(function(bG){return bG.NChanged();},t.Const(),t.Map2Unit,bF.DynNodes);};K.AppendTree=function(bF,bG){var bH;return bF===null?bG:bG===null?bF:(bH=new z({$:2,$0:bF,$1:bG}),(K.SetFlags(bH,K.Flags(bF)|K.Flags(bG)),bH));};K.EmptyAttr=function(){bf.$cctor();return bf.EmptyAttr;};K.Dynamic=function(bF,bG){return new z({$:1,$0:new bg.New(bF,bG)});};K.Insert=function(bF,bG){var bH,bI,bJ;function bK(bL){if(!(bL===null))if(bL!=null&&bL.$==1)bH.push(bL.$0);else if(bL!=null&&bL.$==2){bK(bL.$0);bK(bL.$1);}else if(bL!=null&&bL.$==3)bL.$0(bF);else if(bL!=null&&bL.$==4)bI.push(bL.$0);}bH=[];bI=[];bK(bG);bJ=bH.slice(0);return _7.New(bF,K.Flags(bG),bJ,bI.length===0?null:{$:1,$0:function(bL){C.iter(function(bM){bM(bL);},bI);}});};K.SetFlags=function(bF,bG){bF.flags=bG;};K.Flags=function(bF){return bF!==null&&bF.hasOwnProperty("flags")?bF.flags:0;};K.HasExitAnim=function(bF){var bG;bG=2;return(bF.DynFlags&bG)===bG;};K.GetExitAnim=function(bF){return K.GetAnim(bF,function(bG,bH){return bG.NGetExitAnim(bH);});};K.HasEnterAnim=function(bF){var bG;bG=1;return(bF.DynFlags&bG)===bG;};K.GetEnterAnim=function(bF){return K.GetAnim(bF,function(bG,bH){return bG.NGetEnterAnim(bH);});};K.HasChangeAnim=function(bF){var bG;bG=4;return(bF.DynFlags&bG)===bG;};K.GetChangeAnim=function(bF){return K.GetAnim(bF,function(bG,bH){return bG.NGetChangeAnim(bH);});};K.GetAnim=function(bF,bG){return _1.Concat(y.map(function(bH){return bG(bH,bF.DynElem);},bF.DynNodes));};K.Sync=function(bF,bG){y.iter(function(bH){bH.NSync(bF);},bG.DynNodes);};L.SetAttr=function(bF,bG,bH){bF.setAttribute(bG,bH);};L.Doc=function(){W.$cctor();return W.Doc;};L.CreateElement=function(bF){return L.Doc().createElement(bF);};L.CreateText=function(bF){return L.Doc().createTextNode(bF);};L.AddClass=function(bF,bG){var bH;bH=L.getClass(bF);bH===""?L.setClass(bF,bG):!L.clsRE(bG).test(bH)?L.setClass(bF,bH+" "+bG):void 0;};L.RemoveClass=function(bF,bG){var bH;L.setClass(bF,(bH=L.clsRE(bG),L.getClass(bF).replace(bH,function(bI,bJ,bK){return bJ===""||bK===""?"":" ";})));};L.getClass=function(bF){return bF instanceof a.SVGElement?bF.getAttribute("class"):bF.className;};L.setClass=function(bF,bG){if(bF instanceof a.SVGElement)bF.setAttribute("class",bG);else bF.className=bG;};L.clsRE=function(bF){return new a.RegExp("(\\s+|^)"+bF+"(?:\\s+"+bF+")*(\\s+|$)","g");};L.InsertAt=function(bF,bG,bH){var bI;if(!(bH.parentNode===bF&&bG===(bI=bH.nextSibling,Q.Equals(bI,null)?null:bI)))bF.insertBefore(bH,bG);};L.RemoveNode=function(bF,bG){if(bG.parentNode===bF)bF.removeChild(bG);};M.Get=function(bF){return bF instanceof a.Array?M.ArrayEnumerator(bF):Q.Equals(typeof bF,"string")?M.StringEnumerator(bF):bF.GetEnumerator();};M.ArrayEnumerator=function(bF){return new N.New(0,null,function(bG){var bH;bH=bG.s;return bH<y.length(bF)&&(bG.c=y.get(bF,bH),bG.s=bH+1,true);},void 0);};M.StringEnumerator=function(bF){return new N.New(0,null,function(bG){var bH;bH=bG.s;return bH<bF.length&&(bG.c=bF[bH],bG.s=bH+1,true);},void 0);};N=M.T=bC.Class({Dispose:function(){if(this.d)this.d(this);},MoveNext:function(){return this.n(this);},Current:function(){return this.c;}},m,N);N.New=bC.Ctor(function(bF,bG,bH,bI){m.New.call(this);this.s=bF;this.c=bG;this.n=bH;this.d=bI;},N);Q.Equals=function(bF,bG){var bH,bI,bJ,bK;if(bF===bG)return true;else{bH=typeof bF;if(bH=="object"){if(bF===null||bF===void 0||bG===null||bG===void 0)return false;else if("Equals"in bF)return bF.Equals(bG);else if(bF instanceof a.Array&&bG instanceof a.Array)return Q.arrayEquals(bF,bG);else if(bF instanceof a.Date&&bG instanceof a.Date)return Q.dateEquals(bF,bG);else{bI=[true];for(var bL in bF)if(function(bM){bI[0]=!bF.hasOwnProperty(bM)||bG.hasOwnProperty(bM)&&Q.Equals(bF[bM],bG[bM]);return!bI[0];}(bL))break;if(bI[0]){for(var bM in bG)if(function(bN){bI[0]=!bG.hasOwnProperty(bN)||bF.hasOwnProperty(bN);return!bI[0];}(bM))break;}return bI[0];}}else return bH=="function"&&("$Func"in bF?bF.$Func===bG.$Func&&bF.$Target===bG.$Target:"$Invokes"in bF&&"$Invokes"in bG&&Q.arrayEquals(bF.$Invokes,bG.$Invokes));}};Q.arrayEquals=function(bF,bG){var bH,bI;if(y.length(bF)===y.length(bG)){bH=true;bI=0;while(bH&&bI<y.length(bF)){!Q.Equals(y.get(bF,bI),y.get(bG,bI))?bH=false:void 0;bI=bI+1;}return bH;}else return false;};Q.dateEquals=function(bF,bG){return bF.getTime()===bG.getTime();};Q.Hash=function(bF){var bG;bG=typeof bF;return bG=="function"?0:bG=="boolean"?bF?1:0:bG=="number"?bF:bG=="string"?Q.hashString(bF):bG=="object"?bF==null?0:bF instanceof a.Array?Q.hashArray(bF):Q.hashObject(bF):0;};Q.hashString=function(bF){var bG,bH,bI;if(bF===null)return 0;else{bG=5381;for(bH=0,bI=bF.length-1;bH<=bI;bH++)bG=Q.hashMix(bG,bF[bH].charCodeAt());return bG;}};Q.hashArray=function(bF){var bG,bH,bI;bG=-34948909;for(bH=0,bI=y.length(bF)-1;bH<=bI;bH++)bG=Q.hashMix(bG,Q.Hash(y.get(bF,bH)));return bG;};Q.hashObject=function(bF){var bG,bH;if("GetHashCode"in bF)return bF.GetHashCode();else{bG=[0];for(var bI in bF)if(function(bJ){bG[0]=Q.hashMix(Q.hashMix(bG[0],Q.hashString(bJ)),Q.Hash(bF[bJ]));return false;}(bI))break;return bG[0];}};Q.Compare=function(bF,bG){var bH,bI,bJ,bK,bL,bM;if(bF===bG)return 0;else{bI=typeof bF;switch(bI=="function"?1:bI=="boolean"?2:bI=="number"?2:bI=="string"?2:bI=="object"?3:0){case 0:return typeof bG=="undefined"?0:-1;case 1:return e.FailWith("Cannot compare function values.");case 2:return bF<bG?-1:1;case 3:if(bF===null)bJ=-1;else if(bG===null)bJ=1;else if("CompareTo"in bF)bJ=bF.CompareTo(bG);else if("CompareTo0"in bF)bJ=bF.CompareTo0(bG);else if(bF instanceof a.Array&&bG instanceof a.Array)bJ=Q.compareArrays(bF,bG);else if(bF instanceof a.Date&&bG instanceof a.Date)bJ=Q.compareDates(bF,bG);else{bK=[0];for(var bN in bF)if(function(bO){return!bF.hasOwnProperty(bO)?false:!bG.hasOwnProperty(bO)?(bK[0]=1,true):(bK[0]=Q.Compare(bF[bO],bG[bO]),bK[0]!==0);}(bN))break;if(bK[0]===0){for(var bO in bG)if(function(bP){return!bG.hasOwnProperty(bP)?false:!bF.hasOwnProperty(bP)&&(bK[0]=-1,true);}(bO))break;}bJ=bK[0];}return bJ;}}};Q.hashMix=function(bF,bG){return(bF<<5)+bF+bG;};Q.compareArrays=function(bF,bG){var bH,bI;if(y.length(bF)<y.length(bG))return -1;else if(y.length(bF)>y.length(bG))return 1;else{bH=0;bI=0;while(bH===0&&bI<y.length(bF)){bH=Q.Compare(y.get(bF,bI),y.get(bG,bI));bI=bI+1;}return bH;}};Q.compareDates=function(bF,bG){return Q.Compare(bF.getTime(),bG.getTime());};R.$cctor=function(){var bF;R.$cctor=a.ignore;R.lastId=[0];R.Int=(bF=[0],function(){bF[0]++;return bF[0];});};T.Int=function(){T.set_counter(T.counter()+1);return T.counter();};T.set_counter=function(bF){_5.$cctor();_5.counter=bF;};T.counter=function(){_5.$cctor();return _5.counter;};H.Obsolete=function(bF){var bG,bH,bI,bJ,bK;bH=bF.s;if(bH==null||(bH!=null&&bH.$==2?(bG=bH.$1,false):bH!=null&&bH.$==3?(bG=bH.$1,false):true))void 0;else{bF.s=null;for(bI=0,bJ=y.length(bG)-1;bI<=bJ;bI++){bK=y.get(bG,bI);typeof bK=="object"?function(bL){H.Obsolete(bL);}(bK):bK();}}};H.New=function(bF){return{s:bF};};U.CreateEmbedNode=function(){return{Current:null,Dirty:false};};U.UpdateEmbedNode=function(bF,bG){bF.Current=bG;bF.Dirty=true;};U.LinkElement=function(bF,bG){U.InsertDoc(bF,bG,null);};U.InsertDoc=function(bF,bG,bH){var bI;return bG!=null&&bG.$==1?U.InsertNode(bF,bG.$0.El,bH):bG!=null&&bG.$==2?(bI=bG.$0,(bI.Dirty=false,U.InsertDoc(bF,bI.Current,bH))):bG==null?bH:bG!=null&&bG.$==4?U.InsertNode(bF,bG.$0.Text,bH):bG!=null&&bG.$==5?U.InsertNode(bF,bG.$0,bH):bG!=null&&bG.$==6?y.foldBack(function(bJ,bK){return bJ==null||bJ.constructor===_9?U.InsertDoc(bF,bJ,bK):U.InsertNode(bF,bJ,bK);},bG.$0.Els,bH):U.InsertDoc(bF,bG.$0,U.InsertDoc(bF,bG.$1,bH));};U.CreateRunState=function(bF,bG){return ba.New(bb.get_Empty(),U.CreateElemNode(bF,K.EmptyAttr(),bG));};U.PerformAnimatedUpdate=function(bF,bG,bH){var bI;return _1.get_UseAnimations()?(bI=null,bk.Delay(function(){var bJ,bK,bL;bJ=bb.FindAll(bH);bK=U.ComputeChangeAnim(bG,bJ);bL=U.ComputeEnterAnim(bG,bJ);return bk.Bind(_1.Play(_1.Append(bK,U.ComputeExitAnim(bG,bJ))),function(){return bk.Bind(U.SyncElemNodesNextFrame(bF,bG),function(){return bk.Bind(_1.Play(bL),function(){bG.PreviousNodes=bJ;return bk.Return(null);});});});})):U.SyncElemNodesNextFrame(bF,bG);};U.PerformSyncUpdate=function(bF,bG,bH){var bI;bI=bb.FindAll(bH);U.SyncElemNode(bF,bG.Top);bG.PreviousNodes=bI;};U.CreateElemNode=function(bF,bG,bH){var bI;U.LinkElement(bF,bH);bI=K.Insert(bF,bG);return X.New(bI,bH,null,bF,T.Int(),bC.GetOptional(bI.OnAfterRender));};U.InsertNode=function(bF,bG,bH){L.InsertAt(bF,bH,bG);return bG;};U.SyncElemNodesNextFrame=function(bF,bG){function bH(bI){a.requestAnimationFrame(function(){U.SyncElemNode(bF,bG.Top);bI();});}return _3.BatchUpdatesEnabled()?bk.FromContinuations(function(bI,bJ,bK){return bH.apply(null,[bI,bJ,bK]);}):(U.SyncElemNode(bF,bG.Top),bk.Return(null));};U.ComputeExitAnim=function(bF,bG){return _1.Concat(y.map(function(bH){return K.GetExitAnim(bH.Attr);},bb.ToArray(bb.Except(bG,bb.Filter(function(bH){return K.HasExitAnim(bH.Attr);},bF.PreviousNodes)))));};U.ComputeEnterAnim=function(bF,bG){return _1.Concat(y.map(function(bH){return K.GetEnterAnim(bH.Attr);},bb.ToArray(bb.Except(bF.PreviousNodes,bb.Filter(function(bH){return K.HasEnterAnim(bH.Attr);},bG)))));};U.ComputeChangeAnim=function(bF,bG){var bH;function bI(bJ){return K.HasChangeAnim(bJ.Attr);}bH=function(bJ){return bb.Filter(bI,bJ);};return _1.Concat(y.map(function(bJ){return K.GetChangeAnim(bJ.Attr);},bb.ToArray(bb.Intersect(bH(bF.PreviousNodes),bH(bG)))));};U.SyncElemNode=function(bF,bG){!bF?U.SyncElement(bG):void 0;U.Sync(bG.Children);U.AfterRender(bG);};U.SyncElement=function(bF){function bG(bH){function bI(bJ){var bK,bL;return bJ!=null&&bJ.$==0?bI(bJ.$0)||bI(bJ.$1):bJ!=null&&bJ.$==2?(bK=bJ.$0,bK.Dirty||bI(bK.Current)):bJ!=null&&bJ.$==6&&(bL=bJ.$0,bL.Dirty||y.exists(bG,bL.Holes));}return bI(bH.Children);}K.Sync(bF.El,bF.Attr);bG(bF)?U.DoSyncElement(bF):void 0;};U.Sync=function(bF){var bG,bH;if(bF!=null&&bF.$==1)U.SyncElemNode(false,bF.$0);else if(bF!=null&&bF.$==2)U.Sync(bF.$0.Current);else if(bF==null);else if(bF!=null&&bF.$==5);else if(bF!=null&&bF.$==4){bG=bF.$0;bG.Dirty?(bG.Text.nodeValue=bG.Value,bG.Dirty=false):void 0;}else if(bF!=null&&bF.$==6){bH=bF.$0;y.iter(function(bI){U.SyncElemNode(false,bI);},bH.Holes);y.iter(function(bI){K.Sync(bI[0],bI[1]);},bH.Attrs);U.AfterRender(bH);}else{U.Sync(bF.$0);U.Sync(bF.$1);}};U.AfterRender=function(bF){var bG;bG=bC.GetOptional(bF.Render);bG!=null&&bG.$==1?(bG.$0(bF.El),bC.SetOptional(bF,"Render",null)):void 0;};U.DoSyncElement=function(bF){var bG,bH,bI;function bJ(bK,bL){var bM,bN;return bK!=null&&bK.$==1?bK.$0.El:bK!=null&&bK.$==2?(bM=bK.$0,bM.Dirty?(bM.Dirty=false,U.InsertDoc(bG,bM.Current,bL)):bJ(bM.Current,bL)):bK==null?bL:bK!=null&&bK.$==4?bK.$0.Text:bK!=null&&bK.$==5?bK.$0:bK!=null&&bK.$==6?(bN=bK.$0,(bN.Dirty?bN.Dirty=false:void 0,y.foldBack(function(bO,bP){return bO==null||bO.constructor===_9?bJ(bO,bP):bO;},bN.Els,bL))):bJ(bK.$0,bJ(bK.$1,bL));}bG=bF.El;bt.Iter((bH=bF.El,function(bK){L.RemoveNode(bH,bK);}),bt.Except(bt.DocChildren(bF),bt.Children(bF.El,bC.GetOptional(bF.Delimiters))));bJ(bF.Children,(bI=bC.GetOptional(bF.Delimiters),bI!=null&&bI.$==1?bI.$0[1]:null));};V.Through$1=function(bF,bG){return t.Map(function(bH){return bH.$==1?{$:1,$0:p.filter(function(bI){return bI.id===bG.get_Id();},bH.$0)}:bH;},bF);};y.ofList=function(bF){var bG,bH;bH=[];bG=bF;while(!(bG.$==0)){bH.push(p.head(bG));bG=p.tail(bG);}return bH;};y.foldBack=function(bF,bG,bH){var bI,bJ,bK,bL,bM;bI=bH;bK=bG.length;for(bL=1,bM=bK;bL<=bM;bL++)bI=bF(bG[bK-bL],bI);return bI;};y.iter=function(bF,bG){var bH,bI;for(bH=0,bI=bG.length-1;bH<=bI;bH++)bF(bG[bH]);};y.map=function(bF,bG){var bH,bI,bJ;bH=new a.Array(bG.length);for(bI=0,bJ=bG.length-1;bI<=bJ;bI++)bH[bI]=bF(bG[bI]);return bH;};y.choose=function(bF,bG){var bH,bI,bJ,bK;bH=[];for(bI=0,bJ=bG.length-1;bI<=bJ;bI++){bK=bF(bG[bI]);bK==null?void 0:bH.push(bK.$0);}return bH;};y.exists=function(bF,bG){var bH,bI,bJ,bK;bH=false;bI=0;bK=y.length(bG);while(!bH&&bI<bK)if(bF(bG[bI]))bH=true;else bI=bI+1;return bH;};y.filter=function(bF,bG){var bH,bI,bJ;bH=[];for(bI=0,bJ=bG.length-1;bI<=bJ;bI++)if(bF(bG[bI]))bH.push(bG[bI]);return bH;};y.create=function(bF,bG){var bH,bI,bJ;bH=new a.Array(bF);for(bI=0,bJ=bF-1;bI<=bJ;bI++)bH[bI]=bG;return bH;};y.init=function(bF,bG){var bH,bI,bJ;bF<0?e.FailWith("Negative size given."):null;bH=new a.Array(bF);for(bI=0,bJ=bF-1;bI<=bJ;bI++)bH[bI]=bG(bI);return bH;};y.forall=function(bF,bG){var bH,bI,bJ,bK;bH=true;bI=0;bK=y.length(bG);while(bH&&bI<bK)if(bF(bG[bI]))bI=bI+1;else bH=false;return bH;};W.$cctor=function(){W.$cctor=a.ignore;W.Doc=self.document;};X=n.DocElemNode=bC.Class({Equals:function(bF){return this.ElKey===bF.ElKey;},GetHashCode:function(){return this.ElKey;}},null,X);X.New=function(bF,bG,bH,bI,bJ,bK){var bL;return new X((bL={Attr:bF,Children:bG,El:bI,ElKey:bJ},(bC.SetOptional(bL,"Delimiters",bH),bC.SetOptional(bL,"Render",bK),bL)));};Z=n.Elt=bC.Class({},w,Z);Z.New=function(bF,bG,bH){var bI,bJ;bI=U.CreateElemNode(bF,bG,bH.docNode);bJ=_8.Create(bH.updates);return new Z.New$1({$:1,$0:bI},t.Map2Unit(K.Updates(bI.Attr),bJ.v),bF,bJ);};Z.New$1=bC.Ctor(function(bF,bG,bH,bI){w.New.call(this,bF,bG);this.docNode$1=bF;this.updates$1=bG;this.elt=bH;this.rvUpdates=bI;},Z);_0.ofSeqNonCopying=function(bF){var bG,bH;if(bF instanceof a.Array)return bF;else if(bF instanceof v)return y.ofList(bF);else if(bF===null)return[];else{bG=[];bH=M.Get(bF);try{while(bH.MoveNext())bG.push(bH.Current());return bG;}finally{if(typeof bH=="object"&&"Dispose"in bH)bH.Dispose();}}};_0.TreeReduce=function(bF,bG,bH){var bI;function bJ(bK,bL){var bM,bN;return bL<=0?bF:bL===1&&(bK>=0&&bK<bI)?y.get(bH,bK):(bN=bL/2>>0,bG(bJ(bK,bN),bJ(bK+bN,bL-bN)));}bI=y.length(bH);return bJ(0,bI);};_0.MapTreeReduce=function(bF,bG,bH,bI){var bJ;function bK(bL,bM){var bN,bO;return bM<=0?bG:bM===1&&(bL>=0&&bL<bJ)?bF(y.get(bI,bL)):(bO=bM/2>>0,bH(bK(bL,bO),bK(bL+bO,bM-bO)));}bJ=y.length(bI);return bK(0,bJ);};_1.get_UseAnimations=function(){return bc.UseAnimations();};_1.Play=function(bF){var bG;bG=null;return bk.Delay(function(){return bk.Bind(_1.Run(a.ignore,bc.Actions(bF)),function(){bc.Finalize(bF);return bk.Return(null);});});};_1.Append=function(bF,bG){return{$:0,$0:bl.Append(bF.$0,bG.$0)};};_1.Run=function(bF,bG){var bH;function bI(bJ){function bK(bL,bM){var bN;bN=bM-bL;bG.Compute(bN);bF();return bN<=bH?void a.requestAnimationFrame(function(bO){bK(bL,bO);}):bJ();}a.requestAnimationFrame(function(bL){bK(bL,bL);});}bH=bG.Duration;return bH===0?bk.Zero():bk.FromContinuations(function(bJ,bK,bL){return bI.apply(null,[bJ,bK,bL]);});};_1.Concat=function(bF){return{$:0,$0:bl.Concat(C.map(bc.List,bF))};};_1.get_Empty=function(){return{$:0,$0:bl.Empty()};};_3.BatchUpdatesEnabled=function(){bd.$cctor();return bd.BatchUpdatesEnabled;};_4.StartProcessor=function(bF){var bG;function bH(){var bI;bI=null;return bk.Delay(function(){return bk.Bind(bF,function(){var bJ;bJ=bG[0];return bJ===1?(bG[0]=0,bk.Zero()):bJ===2?(bG[0]=1,bH()):bk.Zero();});});}bG=[0];return function(){var bI;bI=bG[0];bI===0?(bG[0]=1,bk.Start(bH(),null)):bI===1?bG[0]=2:void 0;};};_5.$cctor=function(){_5.$cctor=a.ignore;_5.counter=0;};_7.New=function(bF,bG,bH,bI){var bJ;bJ={DynElem:bF,DynFlags:bG,DynNodes:bH};bC.SetOptional(bJ,"OnAfterRender",bI);return bJ;};_8=n.Updates=bC.Class({},null,_8);_8.Create=function(bF){var bG;bG=null;bG=_8.New(bF,null,function(){var bH;bH=bG.s;return bH===null?(bH=H.Copy(bG.c()),bG.s=bH,H.WhenObsoleteRun(bH,function(){bG.s=null;}),bH):bH;});return bG;};_8.New=function(bF,bG,bH){return new _8({c:bF,s:bG,v:bH});};ba.New=function(bF,bG){return{PreviousNodes:bF,Top:bG};};bb.get_Empty=function(){return{$:0,$0:new bi.New$3()};};bb.FindAll=function(bF){var bG;function bH(bJ){if(bJ!=null&&bJ.$==0){bH(bJ.$0);bH(bJ.$1);}else if(bJ!=null&&bJ.$==1)bI(bJ.$0);else if(bJ!=null&&bJ.$==2)bH(bJ.$0.Current);else if(bJ!=null&&bJ.$==6)y.iter(bI,bJ.$0.Holes);}function bI(bJ){bG.push(bJ);bH(bJ.Children);}bG=[];bH(bF);return{$:0,$0:new bi.New$2(bG)};};bb.Filter=function(bF,bG){return{$:0,$0:bq.Filter(bF,bG.$0)};};bb.Except=function(bF,bG){return{$:0,$0:bq.Except(bF.$0,bG.$0)};};bb.ToArray=function(bF){return bq.ToArray(bF.$0);};bb.Intersect=function(bF,bG){return{$:0,$0:bq.Intersect(bF.$0,bG.$0)};};bc.UseAnimations=function(){bj.$cctor();return bj.UseAnimations;};bc.Actions=function(bF){return bc.ConcatActions(y.choose(function(bG){return bG.$==1?{$:1,$0:bG.$0}:null;},bl.ToArray(bF.$0)));};bc.Finalize=function(bF){y.iter(function(bG){if(bG.$==0)bG.$0();},bl.ToArray(bF.$0));};bc.ConcatActions=function(bF){var bG,bH,bI,bJ;bG=_0.ofSeqNonCopying(bF);bH=y.length(bG);return bH===0?bc.Const():bH===1?y.get(bG,0):(bI=C.max(C.map(function(bK){return bK.Duration;},bG)),(bJ=y.map(function(bK){return bc.Prolong(bI,bK);},bG),bc.Def(bI,function(bK){y.iter(function(bL){bL.Compute(bK);},bJ);})));};bc.List=function(bF){return bF.$0;};bc.Const=function(bF){return bc.Def(0,function(){return bF;});};bc.Def=function(bF,bG){return{Compute:bG,Duration:bF};};bc.Prolong=function(bF,bG){var bH,bI,bJ;bH=bG.Compute;bI=bG.Duration;bJ=bw.Create(function(){return bG.Compute(bG.Duration);});return{Compute:function(bK){return bK>=bI?bJ.f():bH(bK);},Duration:bF};};bd.$cctor=function(){bd.$cctor=a.ignore;bd.BatchUpdatesEnabled=true;};be.Clear=function(bF){bF.splice(0,y.length(bF));};bf.$cctor=function(){bf.$cctor=a.ignore;bf.EmptyAttr=null;};bg=n.DynamicAttrNode=bC.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(bF){return _1.get_Empty();},NGetEnterAnim:function(bF){return _1.get_Empty();},NGetChangeAnim:function(bF){return _1.get_Empty();},NSync:function(bF){if(this.dirty){(this.push(bF))(this.value);this.dirty=false;}}},m,bg);bg.New=bC.Ctor(function(bF,bG){var bH;bH=this;m.New.call(this);this.push=bG;this.value=void 0;this.dirty=false;this.updates=t.Map(function(bI){bH.value=bI;bH.dirty=true;},bF);},bg);bi=bh.HashSet=bC.Class({add:function(bF){var bG,bH;bG=this.hash(bF);bH=this.data[bG];return bH==null?(this.data[bG]=[bF],this.count=this.count+1,true):this.arrContains(bF,bH)?false:(bH.push(bF),this.count=this.count+1,true);},ExceptWith:function(bF){var bG;bG=M.Get(bF);try{while(bG.MoveNext())this.Remove(bG.Current());}finally{if(typeof bG=="object"&&"Dispose"in bG)bG.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bF){var bG,bH,bI,bJ;bG=0;bH=bx.concat(this.data);for(bI=0,bJ=bH.length-1;bI<=bJ;bI++)y.set(bF,bI,bH[bI]);},IntersectWith:function(bF){var bG,bH,bI,bJ,bK;bG=new bi.New$4(bF,this.equals,this.hash);bH=bx.concat(this.data);for(bI=0,bJ=bH.length-1;bI<=bJ;bI++){bK=bH[bI];!bG.Contains(bK)?this.Remove(bK):void 0;}},arrContains:function(bF,bG){var bH,bI,bJ,bK;bH=true;bI=0;bK=bG.length;while(bH&&bI<bK)if(this.equals.apply(null,[bG[bI],bF]))bH=false;else bI=bI+1;return!bH;},Remove:function(bF){var bG;bG=this.data[this.hash(bF)];return bG==null?false:this.arrRemove(bF,bG)&&(this.count=this.count-1,true);},Contains:function(bF){var bG;bG=this.data[this.hash(bF)];return bG==null?false:this.arrContains(bF,bG);},arrRemove:function(bF,bG){var bH,bI,bJ,bK;bH=true;bI=0;bK=bG.length;while(bH&&bI<bK)if(this.equals.apply(null,[bG[bI],bF])){bG.splice.apply(bG,[bI,1]);bH=false;}else bI=bI+1;return!bH;},GetEnumerator:function(){return M.Get(bx.concat(this.data));}},m,bi);bi.New$3=bC.Ctor(function(){bi.New$4.call(this,[],Q.Equals,Q.Hash);},bi);bi.New$2=bC.Ctor(function(bF){bi.New$4.call(this,bF,Q.Equals,Q.Hash);},bi);bi.New$4=bC.Ctor(function(bF,bG,bH){var bI;m.New.call(this);this.equals=bG;this.hash=bH;this.data=[];this.count=0;bI=M.Get(bF);try{while(bI.MoveNext())this.add(bI.Current());}finally{if(typeof bI=="object"&&"Dispose"in bI)bI.Dispose();}},bi);bj.$cctor=function(){bj.$cctor=a.ignore;bj.CubicInOut=bm.Custom(function(bF){var bG;bG=bF*bF;return 3*bG-2*(bG*bF);});bj.UseAnimations=true;};bk.Delay=function(bF){return function(bG){try{(bF(null))(bG);}catch(bH){bG.k({$:1,$0:bH});}};};bk.Bind=function(bF,bG){return bk.checkCancel(function(bH){bF(bn.New(function(bI){var bJ;if(bI.$==0){bJ=bI.$0;bk.scheduler().Fork(function(){try{(bG(bJ))(bH);}catch(bK){bH.k({$:1,$0:bK});}});}else bk.scheduler().Fork(function(){bH.k(bI);});},bH.ct));});};bk.Zero=function(){bo.$cctor();return bo.Zero;};bk.Start=function(bF,bG){var bH,bI;bH=(bI=(bk.defCTS())[0],bG==null?bI:bG.$0);bk.scheduler().Fork(function(){if(!bH.c)bF(bn.New(function(bJ){if(bJ.$==1)bk.UncaughtAsyncError(bJ.$0);},bH));});};bk.Return=function(bF){return function(bG){bG.k({$:0,$0:bF});};};bk.checkCancel=function(bF){return function(bG){if(bG.ct.c)bk.cancel(bG);else bF(bG);};};bk.defCTS=function(){bo.$cctor();return bo.defCTS;};bk.UncaughtAsyncError=function(bF){bD.log("WebSharper: Uncaught asynchronous exception",bF);};bk.FromContinuations=function(bF){return function(bG){var bH;function bI(bJ){if(bH[0])e.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bH[0]=true;bk.scheduler().Fork(bJ);}}bH=[false];bF(function(bJ){bI(function(){bG.k({$:0,$0:bJ});});},function(bJ){bI(function(){bG.k({$:1,$0:bJ});});},function(bJ){bI(function(){bG.k({$:2,$0:bJ});});});};};bk.cancel=function(bF){bF.k({$:2,$0:new bv.New(bF.ct)});};bk.scheduler=function(){bo.$cctor();return bo.scheduler;};bl.Append=function(bF,bG){return bF.$==0?bG:bG.$==0?bF:{$:2,$0:bF,$1:bG};};bl.ToArray=function(bF){var bG;function bH(bI){if(bI.$==1)bG.push(bI.$0);else if(bI.$==2){bH(bI.$0);bH(bI.$1);}else if(bI.$==3)y.iter(function(bJ){bG.push(bJ);},bI.$0);}bG=[];bH(bF);return bG.slice(0);};bl.Concat=function(bF){var bG;bG=_0.ofSeqNonCopying(bF);return _0.TreeReduce(bl.Empty(),bl.Append,bG);};bl.Empty=function(){by.$cctor();return by.Empty;};bm=n.Easing=bC.Class({},m,bm);bm.Custom=function(bF){return new bm.New(bF);};bm.New=bC.Ctor(function(bF){m.New.call(this);this.transformTime=bF;},bm);bn.New=function(bF,bG){return{k:bF,ct:bG};};bo.$cctor=function(){bo.$cctor=a.ignore;bo.noneCT=bp.New(false,[]);bo.scheduler=new br.New();bo.defCTS=[new bs.New()];bo.Zero=bk.Return();bo.GetCT=function(bF){bF.k({$:0,$0:bF.ct});};};bp.New=function(bF,bG){return{c:bF,r:bG};};bq.Filter=function(bF,bG){return new bi.New$2(y.filter(bF,bq.ToArray(bG)));};bq.Except=function(bF,bG){var bH;bH=new bi.New$2(bq.ToArray(bG));bH.ExceptWith(bq.ToArray(bF));return bH;};bq.ToArray=function(bF){var bG;bG=y.create(bF.get_Count(),void 0);bF.CopyTo(bG);return bG;};bq.Intersect=function(bF,bG){var bH;bH=new bi.New$2(bq.ToArray(bF));bH.IntersectWith(bq.ToArray(bG));return bH;};br=bk.Scheduler=bC.Class({Fork:function(bF){var bG;bG=this;this.robin.push(bF);this.idle?(this.idle=false,a.setTimeout(function(){bG.tick();},0)):void 0;},tick:function(){var bF,bG,bH;bG=this;bH=bE.now();bF=true;while(bF)if(this.robin.length===0){this.idle=true;bF=false;}else{(this.robin.shift())();bE.now()-bH>40?(a.setTimeout(function(){bG.tick();},0),bF=false):void 0;}}},m,br);br.New=bC.Ctor(function(){m.New.call(this);this.idle=true;this.robin=[];},br);bs=d.CancellationTokenSource=bC.Class({},m,bs);bs.New=bC.Ctor(function(){m.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bs);bt.Children=function(bF,bG){var bH,bI,bJ;if(bG!=null&&bG.$==1){bJ=[];bH=bG.$0[0].nextSibling;while(bH!==bG.$0[1]){bJ.push(bH);bH=bH.nextSibling;}return{$:0,$0:bJ};}else return{$:0,$0:y.init(bF.childNodes.length,(bI=bF.childNodes,function(bK){return bI[bK];}))};};bt.Except=function(bF,bG){var bH;bH=bF.$0;return{$:0,$0:y.filter(function(bI){return y.forall(function(bJ){return!(bI===bJ);},bH);},bG.$0)};};bt.Iter=function(bF,bG){y.iter(bF,bG.$0);};bt.DocChildren=function(bF){var bG;function bH(bI){if(bI!=null&&bI.$==2)bH(bI.$0.Current);else if(bI!=null&&bI.$==1)bG.push(bI.$0.El);else if(bI==null);else if(bI!=null&&bI.$==5)bG.push(bI.$0);else if(bI!=null&&bI.$==4)bG.push(bI.$0.Text);else if(bI!=null&&bI.$==6)y.iter(function(bJ){if(bJ==null||bJ.constructor===_9)bH(bJ);else bG.push(bJ);},bI.$0.Els);else{bH(bI.$0);bH(bI.$1);}}bG=[];bH(bF.Children);return{$:0,$0:_0.ofSeqNonCopying(bG)};};bv=d.OperationCanceledException=bC.Class({},bu,bv);bv.New=bC.Ctor(function(bF){bv.New$1.call(this,"The operation was canceled.",null,bF);},bv);bv.New$1=bC.Ctor(function(bF,bG,bH){this.message=bF;this.inner=bG;_9.setPrototypeOf(this,bv.prototype);this.ct=bH;},bv);bw.Create=function(bF){return bA.New(false,bF,bw.forceLazy);};bw.forceLazy=function(){var bF;bF=this.v();this.c=true;this.v=bF;this.f=bw.cachedLazy;return bF;};bw.cachedLazy=function(){return this.v;};bx.concat=function(bF){var bG,bH;bG=[];for(var bI in bF)bG.push.apply(bG,bF[bI]);return bG;};by.$cctor=function(){by.$cctor=a.ignore;by.Empty={$:0};};bA.New=function(bF,bG,bH){return{c:bF,v:bG,f:bH};};bC.OnLoad(function(){c.LoginForm();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
